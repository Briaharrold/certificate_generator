<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Borderless Academics Certificate Generator</title>
    <link rel="stylesheet" href="./styles/style.css" />
  </head>
  <body>
    <div>
      <div class="header">
        <img
          src="./images/borderless_academics_logo.png"
          alt="Borderless Academics Logo"
          class="logo"
          loading="lazy"
        />
        <h1 style="color: rgb(10, 10, 10)">
          Borderless Academics Certificate Generator
        </h1>
        <p>Generate certificates for your STEM students</p>
      </div>
      <div class="grid">
        <div class="card input-section" style="background: #cce1fb">
          <h2 class="f">ğŸ“ Enter Names</h2>
          <p>Enter one name per line. Format: FirstName LastName</p>

          <div class="input-group" style="margin-bottom: 1rem">
            <label for="templateSelect">Select Certificate Template:</label>
            <select
              id="templateSelect"
              class="text-input"
              style="padding: 10px"
              onchange="toggleCustomUpload()"
            >
              <option value="template1">Template 1 - Default</option>
              <option value="template2">Template 2 - Alternative</option>
              <option value="custom">Custom - Upload Your Own</option>
            </select>
          </div>

          <div class="input-group" id="customUploadSection" style="margin-bottom: 1rem; display: none;">
            <label for="customTemplate">Upload Custom Certificate Template:</label>
            <input
              type="file"
              id="customTemplate"
              accept="image/png,image/jpeg,image/jpg"
              class="text-input"
              style="padding: 10px"
              onchange="handleCustomUpload(event)"
            />
            <small style="color: #6b7280;">Accepted formats: PNG, JPG. Recommended size: 1920x1440px or larger</small>
          </div>

          <div class="input-group" style="margin-bottom: 1rem; padding: 15px; background: #f3f4f6; border-radius: 8px;">
            <h3 style="margin-bottom: 10px; font-size: 1rem;">ğŸ« School Logo (Optional)</h3>
            <label for="schoolLogo">Upload School Logo:</label>
            <input
              type="file"
              id="schoolLogo"
              accept="image/png,image/jpeg,image/jpg"
              class="text-input"
              style="padding: 10px; margin-bottom: 10px;"
              onchange="handleLogoUpload(event)"
            />
            <small style="color: #6b7280; display: block; margin-bottom: 10px;">Logo will be automatically resized and rounded. Max 2MB.</small>
            
            <div id="logoPreview" style="display: none; margin-top: 10px;">
              <img id="logoPreviewImg" style="max-width: 100px; max-height: 100px; border-radius: 50%; border: 2px solid #d1d5db;" />
              
              <div style="margin-top: 10px;">
                <label for="logoSize">Logo Size:</label>
                <input
                  type="range"
                  id="logoSize"
                  min="50"
                  max="200"
                  value="100"
                  style="width: 100%"
                  oninput="updateLogoSize()"
                />
                <span id="logoSizeValue">100px</span>
              </div>
              
              <div class="alert alert-info" style="margin-top: 10px; padding: 10px;">
                <strong>ğŸ’¡ Drag & Drop:</strong> Once certificates are generated, you can drag the logo directly on the preview!
              </div>
              
              <button class="button" style="background: #ef4444; color: white; margin-top: 10px;" onclick="removeLogo()">
                âŒ Remove Logo
              </button>
            </div>
          </div>

          <div class="input-group" style="margin-bottom: 1rem; padding: 15px; background: #f3f4f6; border-radius: 8px;">
            <h3 style="margin-bottom: 10px; font-size: 1rem">
              ğŸ¯ Drag & Drop + Resize
            </h3>
            <div class="alert alert-info" style="padding: 10px;">
              <strong>ğŸ’¡ New Features:</strong> After generating certificates:<br>
              â€¢ <strong>Drag</strong> any text element or logo to reposition it<br>
              â€¢ <strong>Resize</strong> the student name by dragging the blue handles on either side<br>
              â€¢ All changes apply to all certificates
            </div>
          </div>

          <div class="input-group" style="margin-bottom: 1rem">
            <label for="certificateText">Certificate Text:</label>
            <textarea
              type="text"
              id="certificateText"
              class="text-input"
              placeholder="In recognition of their outstanding dedication to STEM investigations and exploration during the 8 week enrichment program powered by the GoSTEAM Mobile Science Lab awarded"
              value=""
              style="padding-bottom: 20px; height: 70px"
            ></textarea>
          </div>

          <div class="input-group" style="margin-bottom: 1rem">
            <label for="certificateDate">Certificate Date:</label>
            <input
              type="date"
              id="certificateDate"
              class="text-input"
              style="padding: 10px"
            />
          </div>

          <textarea
            id="nameInput"
            placeholder="Jia Mari Chung&#10;John Smith&#10;Sarah Johnson&#10;Michael Chen"
          ></textarea>
          
          <button class="button button-primary" onclick="generateCertificates()">
            ğŸ“ Generate Certificates
          </button>
          
          <div id="successMessage" style="display: none" class="alert alert-success">
            <strong>âœ“ Certificates ready!</strong> Use the preview to check them.
          </div>
        </div>

        <div class="card" style="background: #cce1fb">
          <h2 class="f">ğŸ‘ï¸ Preview & Print</h2>
          <div id="previewSection">
            <div class="empty-state">
              <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
                ></path>
              </svg>
              <p style="font-size: 1.1rem">
                Enter names and click "Generate" to preview
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="printArea"></div>

    <script src="./scripts/script.js"></script>
  </body>
</html>